/*! shopstyle collective snippet: v1.0.0 */!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=5)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.defaultConfig={env:"production",trackingApi:"https://tracking.shopstyle.com/track/v1",runThirdParty:!0}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(0);e.config=r,e.config=r=i.defaultConfig},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){this.baseUrl=t,this.apiKey=e}return t.prototype.impression=function(){return this.postEvent("PageView").then(function(t){return t.json()})},t.prototype.postEvent=function(t){var e={event_type:t,url:window.location.href,api_key:this.apiKey},n=this.baseUrl+"/c/ev",r={method:"POST",credentials:"include",body:JSON.stringify(e),headers:new Headers({"Content-Type":"application/json"})};return fetch(n,r)},t}();e.TrackingService=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){}return t.prototype.getRan=function(){return this.getLocalStore().ran||{}},t.prototype.setRan=function(t){var e=this.getLocalStore();e.ran=t,this.setLocalStore(e)},t.prototype.getLocalStore=function(){var t=localStorage.getItem("ssc-tag");return null!==t?JSON.parse(t):{}},t.prototype.setLocalStore=function(t){localStorage.setItem("ssc-tag",JSON.stringify(t))},t}();e.StorageService=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(3),i=function(){function t(t,e){this.visitorId=t,this.isNew=e,this.intervalDroppingPixel=14,this.storageService=new r.StorageService}return t.prototype.init=function(){if(this.isNew||this.isSyncDateTooOld()){var t=document.createElement("img");t.src="https://tags.rd.linksynergy.com/cs?ns=ssc&uid3="+this.visitorId,document.body.appendChild(t),this.setNewSyncDate()}},t.prototype.isSyncDateTooOld=function(){var t=this.storageService.getRan();if(t.syncDate){var e=Date.now();return Math.floor((e-t.syncDate)/864e5)>this.intervalDroppingPixel}return!0},t.prototype.setNewSyncDate=function(){var t=this.storageService.getRan();t.syncDate=Date.now(),this.storageService.setRan(t)},t}();e.RakutenService=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(4),i=n(2),o=n(1),c=function(){function t(){}return t.prototype.initApp=function(){var t=this,e=document.currentScript;null==document.body?document.addEventListener("DOMContentLoaded",function(){t.init(e)}):this.init(e)},t.prototype.init=function(t){var e=this.getApiKey(t),n=document.body.className.includes("preview")||document.body.className.includes("admin-bar");if(!e||""==e||n){if(n)return;throw new Error("Missing Api Key")}this.initTracking(e)},t.prototype.getApiKey=function(t){var e=t.getAttribute("data-sc-apikey");return e||(o.config.testing?Array.from(document.getElementsByTagName("meta")).filter(function(t){return"data-sc-apikey"==t.getAttribute("name")})[0].getAttribute("content"):void 0)},t.prototype.initTracking=function(t){var e=this;this.trackingService=new i.TrackingService(o.config.trackingApi,t),this.trackingService.impression().then(function(t){return e.initRakutenService(t)})},t.prototype.initRakutenService=function(t){o.config.runThirdParty&&(this.rakutenService=new r.RakutenService(t.visitorId,t.isNew),this.rakutenService.init())},t}();e.App=c;var a=new c;e.app=a,a.initApp()}]);